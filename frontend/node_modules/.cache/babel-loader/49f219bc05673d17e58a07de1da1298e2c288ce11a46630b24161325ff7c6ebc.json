{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\OneDrive\\\\Desktop\\\\Online Book Thrift Store\\\\frontend\\\\src\\\\Components\\\\context\\\\AuthContext\\\\AuthContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useReducer } from \"react\";\nimport axios from \"axios\";\nimport { LOGIN_FAILED, LOGIN_SUCCESS, REGISTER_SUCCESS, REGISTER_FAIL, LOGOUT, FETCH_PROFILE_FAIL, FETCH_PROFILE_SUCCESS, FETCH_BOOKS_SUCCESS, FETCH_BOOKS_FAILED } from \"./AuthActionTypes\";\nimport { API_URL_USER } from \"../../../utils/apiURL\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const authContext = /*#__PURE__*/createContext();\nconst INITIAL_STATE = {\n  userAuth: JSON.parse(localStorage.getItem('userAuth')),\n  error: null,\n  loading: false,\n  profile: null,\n  userBooks: []\n};\nconst reducer = (state, action) => {\n  const {\n    type,\n    payload\n  } = action;\n  switch (type) {\n    //Register\n\n    case REGISTER_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        error: null,\n        userAuth: payload\n      };\n    case REGISTER_FAIL:\n      return {\n        ...state,\n        error: payload,\n        loading: false,\n        userAuth: null\n      };\n\n    //Login\n    case LOGIN_SUCCESS:\n      //Add user to localstorage\n      localStorage.setItem(\"userAuth\", JSON.stringify(payload));\n      return {\n        ...state,\n        loading: false,\n        error: null,\n        userAuth: payload\n      };\n    case LOGIN_FAILED:\n      return {\n        ...state,\n        error: payload,\n        loading: false,\n        userAuth: null\n      };\n    case FETCH_PROFILE_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        error: null,\n        profile: payload\n      };\n    case FETCH_PROFILE_FAIL:\n      return {\n        ...state,\n        loading: false,\n        error: payload,\n        profile: null\n      };\n    case FETCH_BOOKS_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        error: null,\n        profile: null,\n        userBooks: payload\n      };\n    case FETCH_BOOKS_FAILED:\n      return {\n        ...state,\n        loading: false,\n        error: payload,\n        profile: null,\n        userBooks: []\n      };\n    case LOGOUT:\n      //remove from storage\n      localStorage.removeItem(\"userAuth\");\n      return {\n        ...state,\n        loading: false,\n        error: null,\n        userAuth: null\n      };\n\n    // Profile\n    default:\n      return state;\n  }\n};\nconst AuthContextProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(reducer, INITIAL_STATE);\n\n  // register action \n  const registerUserAction = async formData => {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    try {\n      var _res$data;\n      const res = await axios.post(`${API_URL_USER}/register`, formData, config);\n      if ((res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.status) === \"success\") {\n        dispatch({\n          type: REGISTER_SUCCESS,\n          payload: res.data\n        });\n      }\n      //Redirect\n      window.location.href = \"/login\";\n    } catch (error) {\n      var _error$response, _error$response$data;\n      dispatch({\n        type: REGISTER_FAIL,\n        payload: error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message\n      });\n    }\n  };\n\n  //login action \n  const loginUserAction = async formdata => {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    try {\n      var _res$data2;\n      const res = await axios.post(`${API_URL_USER}/login`, formdata, config);\n      if ((res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.status) === \"success\") {\n        dispatch({\n          type: LOGIN_SUCCESS,\n          payload: res.data\n        });\n      }\n      window.location.href = \"/\";\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      dispatch({\n        type: LOGIN_FAILED,\n        payload: error === null || error === void 0 ? void 0 : (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message\n      });\n    }\n  };\n  const getBooksByUser = async id => {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    try {\n      var _res$data3;\n      const res = await axios.get(`${API_URL_USER}/books/${id}`, config);\n      if ((res === null || res === void 0 ? void 0 : (_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : _res$data3.status) === \"success\") {\n        dispatch({\n          type: FETCH_BOOKS_SUCCESS,\n          payload: res.data.userBooks\n        });\n      }\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      dispatch({\n        type: FETCH_BOOKS_FAILED,\n        payload: error === null || error === void 0 ? void 0 : (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message\n      });\n    }\n  };\n\n  //logout \n  const logoutUserAction = () => {\n    dispatch({\n      type: LOGOUT,\n      payload: null\n    });\n    //Redirect\n    window.location.href = \"/login\";\n  };\n  const fetchProfileAction = async () => {\n    try {\n      var _state$userAuth;\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${state === null || state === void 0 ? void 0 : (_state$userAuth = state.userAuth) === null || _state$userAuth === void 0 ? void 0 : _state$userAuth.token}`\n        }\n      };\n      const res = await axios.get(`${API_URL_USER}/`, config);\n      if (res !== null && res !== void 0 && res.data) {\n        dispatch({\n          type: FETCH_PROFILE_SUCCESS,\n          payload: res.data\n        });\n      }\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      dispatch({\n        type: FETCH_PROFILE_FAIL,\n        payload: error === null || error === void 0 ? void 0 : (_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message\n      });\n    }\n  };\n\n  //post book \n  return /*#__PURE__*/_jsxDEV(authContext.Provider, {\n    value: {\n      loginUserAction,\n      registerUserAction,\n      logoutUserAction,\n      fetchProfileAction,\n      getBooksByUser\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 234,\n    columnNumber: 9\n  }, this);\n};\n_s(AuthContextProvider, \"utWK7j4FjTQK7pks84XMke+2FPM=\");\n_c = AuthContextProvider;\nexport default AuthContextProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthContextProvider\");","map":{"version":3,"names":["createContext","useReducer","axios","LOGIN_FAILED","LOGIN_SUCCESS","REGISTER_SUCCESS","REGISTER_FAIL","LOGOUT","FETCH_PROFILE_FAIL","FETCH_PROFILE_SUCCESS","FETCH_BOOKS_SUCCESS","FETCH_BOOKS_FAILED","API_URL_USER","jsxDEV","_jsxDEV","authContext","INITIAL_STATE","userAuth","JSON","parse","localStorage","getItem","error","loading","profile","userBooks","reducer","state","action","type","payload","setItem","stringify","removeItem","AuthContextProvider","children","_s","dispatch","registerUserAction","formData","config","headers","_res$data","res","post","data","status","window","location","href","_error$response","_error$response$data","response","message","loginUserAction","formdata","_res$data2","_error$response2","_error$response2$data","getBooksByUser","id","_res$data3","get","_error$response3","_error$response3$data","logoutUserAction","fetchProfileAction","_state$userAuth","Authorization","token","_error$response4","_error$response4$data","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Admin/OneDrive/Desktop/Online Book Thrift Store/frontend/src/Components/context/AuthContext/AuthContext.js"],"sourcesContent":["import { createContext , useReducer} from \"react\" ; \r\nimport axios from \"axios\";\r\nimport { LOGIN_FAILED, LOGIN_SUCCESS , REGISTER_SUCCESS , REGISTER_FAIL , LOGOUT , FETCH_PROFILE_FAIL , FETCH_PROFILE_SUCCESS , FETCH_BOOKS_SUCCESS, FETCH_BOOKS_FAILED} from \"./AuthActionTypes\";\r\nimport {  API_URL_USER } from \"../../../utils/apiURL\";\r\nexport const authContext = createContext() ; \r\n\r\nconst INITIAL_STATE = {\r\n    userAuth: JSON.parse(localStorage.getItem('userAuth')) , \r\n    error: null , \r\n    loading: false , \r\n    profile: null,\r\n    userBooks: [],\r\n}; \r\n\r\nconst reducer = (state, action) => {\r\n    const { type, payload } = action;\r\n    switch (type) {\r\n      //Register\r\n\r\n      case REGISTER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        userAuth: payload,\r\n      };\r\n\r\n    case REGISTER_FAIL:\r\n      return {\r\n        ...state,\r\n        error: payload,\r\n        loading: false,\r\n        userAuth: null,\r\n      };\r\n\r\n      //Login\r\n      case LOGIN_SUCCESS:\r\n        //Add user to localstorage\r\n        localStorage.setItem(\"userAuth\", JSON.stringify(payload));\r\n        return {\r\n          ...state,\r\n          loading: false,\r\n          error: null,\r\n          userAuth: payload,\r\n        };\r\n\r\n      case LOGIN_FAILED:\r\n        return {\r\n          ...state,\r\n          error: payload,\r\n          loading: false,\r\n          userAuth: null,\r\n        };\r\n\r\n     \r\n      case FETCH_PROFILE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        profile: payload,\r\n      };\r\n\r\n      case FETCH_PROFILE_FAIL:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: payload,\r\n        profile: null,\r\n      };\r\n\r\n      case FETCH_BOOKS_SUCCESS:\r\n      return {\r\n        ...state , \r\n        loading: false , \r\n        error: null , \r\n        profile: null , \r\n        userBooks: payload\r\n      }\r\n\r\n      case FETCH_BOOKS_FAILED: \r\n      return {\r\n        ...state , \r\n        loading: false , \r\n        error: payload , \r\n        profile : null , \r\n        userBooks: []\r\n      }\r\n\r\n\r\n\r\n     case LOGOUT:\r\n      //remove from storage\r\n      localStorage.removeItem(\"userAuth\");\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        userAuth: null,\r\n      };\r\n        \r\n\r\n      // Profile\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n\r\n\r\nconst AuthContextProvider = ({children}) => {\r\n    const [ state , dispatch] = useReducer(reducer,INITIAL_STATE); \r\n\r\n    // register action \r\n    const registerUserAction = async formData => {\r\n        const config = {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        };\r\n        try {\r\n          const res = await axios.post(\r\n            `${API_URL_USER}/register`,\r\n            formData,\r\n            config\r\n          );\r\n          if (res?.data?.status === \"success\") {\r\n            dispatch({\r\n              type: REGISTER_SUCCESS,\r\n              payload: res.data,\r\n            });\r\n          }\r\n          //Redirect\r\n          window.location.href = \"/login\";\r\n        } catch (error) {\r\n          dispatch({\r\n            type: REGISTER_FAIL,\r\n            payload: error?.response?.data?.message,\r\n          });\r\n        }\r\n      };\r\n\r\n    \r\n\r\n\r\n    //login action \r\n    const loginUserAction =  async (formdata) => {\r\n        const config = {\r\n            headers : {\r\n                \"Content-Type\":\"application/json\",\r\n            }\r\n        };\r\n        try {\r\n            const res = await axios.post(`${API_URL_USER}/login`,formdata,config); \r\n            if(res?.data?.status === \"success\")\r\n            {\r\n                dispatch({\r\n                    type:LOGIN_SUCCESS,\r\n                    payload: res.data,\r\n                })\r\n            }\r\n            window.location.href = \"/\"\r\n        } catch (error) {\r\n            dispatch({\r\n                type:LOGIN_FAILED,\r\n                payload: error?.response?.data?.message,\r\n            })\r\n        }\r\n    }\r\n\r\n    const getBooksByUser = async (id) => {\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\":\"application/json\",\r\n      }\r\n      };\r\n      try {\r\n        const res = await axios.get(`${API_URL_USER}/books/${id}`,config) ; \r\n        if(res?.data?.status === \"success\")\r\n            {\r\n                dispatch({\r\n                    type:FETCH_BOOKS_SUCCESS,\r\n                    payload: res.data.userBooks,\r\n                })\r\n            }\r\n        \r\n      } catch (error) {\r\n        dispatch({\r\n          type:FETCH_BOOKS_FAILED,\r\n          payload: error?.response?.data?.message,\r\n      })\r\n        \r\n      }\r\n    } \r\n\r\n\r\n    \r\n\r\n    //logout \r\n    const logoutUserAction = () => {\r\n        dispatch({\r\n          type: LOGOUT,\r\n          payload: null,\r\n        });\r\n        //Redirect\r\n        window.location.href = \"/login\";\r\n      };\r\n\r\n      const fetchProfileAction = async () => {\r\n        try {\r\n          const config = {\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: `Bearer ${state?.userAuth?.token}`,\r\n            },\r\n          };\r\n          const res = await axios.get(`${API_URL_USER}/`, config);\r\n          if (res?.data) {\r\n            dispatch({\r\n              type: FETCH_PROFILE_SUCCESS,\r\n              payload: res.data,\r\n            });\r\n          }\r\n        } catch (error) {\r\n          dispatch({\r\n            type: FETCH_PROFILE_FAIL,\r\n            payload: error?.response?.data?.message,\r\n          });\r\n        }\r\n      };  \r\n\r\n    //post book \r\n    return (\r\n        \r\n        <authContext.Provider value={{loginUserAction,registerUserAction,logoutUserAction,fetchProfileAction, getBooksByUser}}>\r\n            {children}\r\n        </authContext.Provider>\r\n        \r\n    ); \r\n}; \r\n\r\nexport default AuthContextProvider ; "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}